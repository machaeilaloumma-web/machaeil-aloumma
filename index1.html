<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>مشاعل الأمة - سفراء القيم</title>

<!-- Tailwind CSS CDN -->
<script src="https://cdn.tailwindcss.com"></script>

<!-- Lucide Icons -->
<script src="https://unpkg.com/lucide/dist/lucide.js"></script>

<!-- الخط -->
<link href="https://fonts.googleapis.com/css2?family=Noto+Kufi+Arabic:wght@400;500;700&display=swap" rel="stylesheet">

<style>
body { font-family: 'Noto Kufi Arabic', sans-serif; background:#000; color:#fff; margin:0; overflow-x:hidden; }
.hero-image { width:100%; max-height:400px; object-fit:cover; display:block; margin:0 auto; }
.logo { width:200px; display:block; margin:20px auto; }
h1 { text-align:center; font-size:2rem; margin:10px 0; }
.tagline { text-align:center; color:#aaa; margin-bottom:20px; }

/* Sidebar */
.sidebar {
  height: 100%;
  width: 0;
  position: fixed;
  z-index: 40;
  top: 0;
  left: 0;
  background-color: #111;
  overflow-x: hidden;
  transition: 0.5s;
  padding-top: 60px;
}
.sidebar a {
  padding: 10px 20px;
  text-decoration: none;
  font-size: 18px;
  color: #ccc;
  display: block;
  transition: 0.3s;
}
.sidebar a:hover { color: #00ff80; }
.sidebar .closebtn { position: absolute; top: 0; right: 20px; font-size: 36px; }

/* User top bar */
.user-bar {
  position: fixed;
  top: 0;
  right: 0;
  left: 0;
  height: 60px;
  background: linear-gradient(to right, #1f1f1f, #111);
  display: flex;
  justify-content: flex-end;
  align-items: center;
  padding: 0 20px;
  z-index: 50;
  backdrop-blur: 5px;
  box-shadow: 0 2px 10px rgba(0,0,0,0.5);
}

.user-bar button { cursor: pointer; }

.user-menu {
  position: absolute;
  top: 60px;
  right: 20px;
  width: 200px;
  background: linear-gradient(to bottom, #222, #111);
  border: 1px solid #444;
  border-radius: 12px;
  display: none;
  flex-direction: column;
  overflow: hidden;
  transition: all 0.3s ease;
}

.user-menu.show { display: flex; }

.user-menu a {
  padding: 12px 15px;
  color: #fff;
  text-decoration: none;
  font-size: 14px;
}
.user-menu a:hover { background: #333; }
.user-menu a.logout { color: #ff6b6b; }
.user-menu a.logout:hover { background: #ff6b6b; color: #fff; }

/* Adjust main content */
#main { transition: margin-left .5s; padding: 16px; margin-top: 60px; }

/* Open button for sidebar */
.openbtn {
  font-size: 20px;
  cursor: pointer;
  background-color: #111;
  color: white;
  padding: 10px 15px;
  border: none;
  position: fixed;
  top: 12px;
  left: 12px;
  z-index: 45;
}
.openbtn:hover { background-color: #444; }

</style>
</head>
<body>

<!-- Sidebar -->
<div id="mySidebar" class="sidebar">
  <a href="javascript:void(0)" class="closebtn" onclick="closeNav()">×</a>
</div>

<!-- User bar -->
<div class="user-bar">
  <!-- أيقونة المستخدم -->
  <button id="userBtn" class="w-12 h-12 rounded-full bg-gray-800 flex items-center justify-center hover:scale-105 transition-transform duration-200">
    <svg xmlns="http://www.w3.org/2000/svg" class="lucide lucide-user w-6 h-6 text-white" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
      <path stroke-linecap="round" stroke-linejoin="round" d="M20 21v-2a4 4 0 0 0-3-3.87"/>
      <path stroke-linecap="round" stroke-linejoin="round" d="M4 21v-2a4 4 0 0 1 3-3.87"/>
      <circle cx="12" cy="7" r="4"/>
    </svg>
  </button>

  <!-- قائمة المستخدم المنسدلة -->
  <div id="userMenu" class="user-menu">
    <a href="profile.html" id="profileLink">الملف الشخصي</a>
    <a href="login.html" id="loginLink">تسجيل الدخول</a>
    <a href="register.html" id="registerLink">إنشاء حساب</a>
    <a href="#" id="logoutBtn" class="logout">تسجيل الخروج</a>
  </div>
</div>

<!-- Open sidebar button -->
<button class="openbtn" onclick="openNav()">☰</button>

<!-- Main content -->
<div id="main">
  <img src="http://machaeil-aloumma.web.app/alger.jpg" alt="الجزائر" class="hero-image" />
  <img src="http://machaeil-aloumma.web.app/machaoumma.gif" alt="شعار مشاعل الأمة" class="logo" />
  <h1>مشاعل الأمة - مشروع نهضة سفراء القيم</h1>
  <p class="tagline">منصة وطنية لتأهيل القدوات وغرس القيم في الأجيال القادمة و التي ستحفظ مشعل الأمة و تحفظ العهد.</p>
  <!-- محتوى إضافي هنا كما في الكود السابق -->
</div>

<!-- Firebase -->
<script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-app-compat.js"></script>
<script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-auth-compat.js"></script>

<script>
// Firebase config
const firebaseConfig = {
  apiKey: "YOUR_API_KEY",
  authDomain: "YOUR_AUTH_DOMAIN",
  projectId: "YOUR_PROJECT_ID",
  storageBucket: "YOUR_STORAGE_BUCKET",
  messagingSenderId: "YOUR_SENDER_ID",
  appId: "YOUR_APP_ID"
};
firebase.initializeApp(firebaseConfig);

// Sidebar open/close
function openNav() { document.getElementById("mySidebar").style.width="250px"; document.getElementById("main").style.marginLeft="250px"; }
function closeNav() { document.getElementById("mySidebar").style.width="0"; document.getElementById("main").style.marginLeft="0"; }

// User menu toggle
const userBtn = document.getElementById("userBtn");
const userMenu = document.getElementById("userMenu");
userBtn.onclick = ()=> userMenu.classList.toggle("show");
window.onclick = e => { if(!e.target.closest("#userBtn") && !e.target.closest("#userMenu")) userMenu.classList.remove("show"); }

// Firebase Auth
const logoutBtn = document.getElementById("logoutBtn");
const loginLink = document.getElementById("loginLink");
const registerLink = document.getElementById("registerLink");
const profileLink = document.getElementById("profileLink");

firebase.auth().onAuthStateChanged(user=>{
  if(user){
    logoutBtn.style.display="block";
    profileLink.style.display="block";
    loginLink.style.display="none";
    registerLink.style.display="none";
  }else{
    logoutBtn.style.display="none";
    profileLink.style.display="none";
    loginLink.style.display="block";
    registerLink.style.display="block";
  }
});

logoutBtn.onclick = e => {
  e.preventDefault();
  firebase.auth().signOut().then(()=>{
    alert("تم تسجيل الخروج بنجاح");
    window.location.href="login.html";
  }).catch(err=>{ alert("حدث خطأ: "+err.message) });
}
</script>

</body>
</html>

