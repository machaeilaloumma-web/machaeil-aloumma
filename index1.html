<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>مشاعل الأمة - سفراء القيم</title>

<!-- Tailwind CSS -->
<script src="https://cdn.tailwindcss.com"></script>

<!-- Lucide Icons -->
<script src="https://unpkg.com/lucide@latest"></script>

<!-- الخط -->
<link href="https://fonts.googleapis.com/css2?family=Noto+Kufi+Arabic:wght@400;500;700&display=swap" rel="stylesheet">

<style>
body { font-family: 'Noto Kufi Arabic', sans-serif; background:#000; color:#fff; margin:0; overflow-x:hidden; }

/* Sidebar - معدّل لـ RTL */
.sidebar {
  height: 100%;
  width: 0;
  position: fixed;
  z-index: 40;
  top: 0;
  right: 0; /* ✅ من اليمين */
  background-color: #111;
  overflow-x: hidden;
  transition: 0.5s;
  padding-top: 60px;
  direction: rtl;
  text-align: right;
}
.sidebar a {
  padding: 10px 20px;
  text-decoration: none;
  font-size: 18px;
  color: #ccc;
  display: block;
  transition: 0.3s;
}
.sidebar a:hover { color: #00ff80; }
.sidebar .closebtn {
  position: absolute;
  top: 0;
  left: 20px;
  font-size: 36px;
}

/* User bar */
.user-bar {
  position: fixed;
  top: 0;
  right: 0;
  left: 0;
  height: 60px;
  background: linear-gradient(to right, #1f1f1f, #111);
  display: flex;
  justify-content: flex-end;
  align-items: center;
  padding: 0 20px;
  z-index: 50;
  box-shadow: 0 2px 10px rgba(0,0,0,0.5);
}

.user-bar button { cursor: pointer; }

.user-menu {
  position: absolute;
  top: 60px;
  right: auto;  /* ✅ إلغاء right */
  left: 20px;   /* ✅ من اليسار */
  width: 200px;
  background: linear-gradient(to bottom, #222, #111);
  border: 1px solid #444;
  border-radius: 12px;
  display: none;
  flex-direction: column;
  overflow: hidden;
  transition: all 0.3s ease;
  z-index: 55;
}
.user-menu.show { display: flex; }
.user-menu a {
  padding: 12px 15px;
  color: #fff;
  text-decoration: none;
  font-size: 14px;
}
.user-menu a:hover { background: #333; }
.user-menu a.logout { color: #ff6b6b; }
.user-menu a.logout:hover { background: #ff6b6b; color: #fff; }

/* Main content */
#main { transition: margin-right .5s; padding: 16px; margin-top: 60px; }

/* Open sidebar button */
.openbtn {
  font-size: 20px;
  cursor: pointer;
  background-color: #111;
  color: white;
  padding: 10px 15px;
  border: none;
  position: fixed;
  top: 12px;
  right: 12px; /* ✅ من اليمين */
  z-index: 55; /* ✅ الآن أعلى من user-bar */
}
.openbtn:hover { background-color: #444; }

.hero-image { width:100%; max-height:400px; object-fit:cover; display:block; margin:0 auto; }
.logo { width:200px; display:block; margin:20px auto; }
h1 { text-align:center; font-size:2rem; margin:10px 0; }
.tagline { text-align:center; color:#aaa; margin-bottom:20px; }

.section-card { border:1px solid #444; border-radius:20px; background:#111; padding:20px; margin-bottom:20px; box-shadow:0 4px 10px rgba(0,0,0,0.5); }
.section-card h2,h3,h4 { color:#fff; }
.section-card p, .section-card li { color:#aaa; }

footer { text-align:center; color:#888; padding:10px; margin-top:20px; }
footer a { text-decoration:underline; color:#888; }
footer a:hover { color:#00ff80; }
</style>
</head>
<body>

<!-- Sidebar -->
<div id="mySidebar" class="sidebar">
  <a href="javascript:void(0)" class="closebtn" onclick="closeNav()">×</a>
  <a href="#">الصفحة الرئيسية</a>
  <a href="#">الدورات التدريبية</a>
  <a href="#">الورش والفعاليّات</a>
  <a href="#">المكتبة التعليمية</a>
  <a href="#">المشاريع الطلابية</a>
  <a href="#">المجتمع والتواصل</a>
  <a href="#">السجل والنشاط</a>
</div>

<!-- User bar -->
<div class="user-bar">
  <button id="userBtn" class="w-12 h-12 rounded-full bg-gray-800 flex items-center justify-center hover:scale-105 transition-transform duration-200">
    <svg xmlns="http://www.w3.org/2000/svg" class="lucide lucide-user w-6 h-6 text-white" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
      <path stroke-linecap="round" stroke-linejoin="round" d="M20 21v-2a4 4 0 0 0-3-3.87"/>
      <path stroke-linecap="round" stroke-linejoin="round" d="M4 21v-2a4 4 0 0 1 3-3.87"/>
      <circle cx="12" cy="7" r="4"/>
    </svg>
  </button>

  <div id="userMenu" class="user-menu">
    <a href="profile.html" id="profileLink" style="display: none;">الملف الشخصي</a>
    <a href="login.html" id="loginLink">تسجيل الدخول</a>
    <a href="register.html" id="registerLink">إنشاء حساب</a>
    <a href="#" id="logoutBtn" class="logout" style="display: none;">تسجيل الخروج</a>
  </div>
</div>

<!-- Open sidebar button -->
<button class="openbtn" onclick="openNav()">☰</button>

<!-- Main content -->
<div id="main">
  <img src="http://machaeil-aloumma.web.app/alger.jpg" alt="الجزائر" class="hero-image" />
  <img src="http://machaeil-aloumma.web.app/machaoumma.gif" alt="شعار مشاعل الأمة" class="logo" />
  <h1>مشاعل الأمة - مشروع نهضة سفراء القيم</h1>
  <p class="tagline">منصة وطنية لتأهيل القدوات وغرس القيم في الأجيال القادمة و التي ستحفظ مشعل الأمة و تحفظ العهد.</p>

  <!-- المراحل -->
  <div class="section-card">
    <h3>المراحل التطويرية</h3>
    <ol class="list-decimal list-inside space-y-1">
      <li>مشعل القدوة - برامج تأسيسية للأطفال</li>
      <li>مشعل السفير - تنمية مهارات المسؤولية</li>
      <li>مشعل القائد - برامج قيادية وتطوعية</li>
      <li>مشعل الرائد - مبادرات مجتمعية ومشروعات</li>
      <li>مشعل الحكيم - برامج تكاملية واستشرافية</li>
    </ol>
  </div>

  <!-- الفعاليات والموارد -->
  <div class="section-card">
    <h4>الفعاليات القادمة</h4>
    <p>حفل تكريم المدارس المتميزة — 12 ديسمبر / ورشة بناء القدوات — 20 ديسمبر / مسابقة القصص التربوية — التسجيل مفتوح</p>
  </div>

  <div class="section-card">
    <h4>الموارد المميزة</h4>
    <p>قصص تربوية، تقارير، ودورات مختصرة قابلة للتحميل.</p>
  </div>

  <div class="section-card">
    <h4>المجتمع والتواصل</h4>
    <p>انضم إلى المنتديات المحلية ومجموعات العمل بين المدارس.</p>
  </div>
</div>

<footer>
  © 2025 مشاعل الأمة – جميع الحقوق محفوظة · 
  <a href="about.html">من نحن</a> · 
  <a href="contact.html">اتصل بنا</a>
</footer>

<!-- Firebase -->
<script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-app-compat.js"></script>
<script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-auth-compat.js"></script>

<script>
// تهيئة الحالة الافتراضية
document.getElementById('profileLink').style.display = 'none';
document.getElementById('logoutBtn').style.display = 'none';
document.getElementById('loginLink').style.display = 'block';
document.getElementById('registerLink').style.display = 'block';

// Sidebar functions
function openNav(){
  document.getElementById("mySidebar").style.width = "250px";
  document.getElementById("main").style.marginRight = "250px";
}
function closeNav(){
  document.getElementById("mySidebar").style.width = "0";
  document.getElementById("main").style.marginRight = "0";
}

// User menu toggle
const userBtn = document.getElementById("userBtn");
const userMenu = document.getElementById("userMenu");
userBtn.onclick = () => userMenu.classList.toggle("show");
window.onclick = e => {
  if (!e.target.closest("#userBtn") && !e.target.closest("#userMenu"))
    userMenu.classList.remove("show");
};

// Firebase (مع حماية)
if (typeof firebase !== 'undefined') {
  const firebaseConfig = {
    apiKey: "YOUR_API_KEY",
    authDomain: "YOUR_AUTH_DOMAIN",
    projectId: "YOUR_PROJECT_ID",
    storageBucket: "YOUR_STORAGE_BUCKET",
    messagingSenderId: "YOUR_SENDER_ID",
    appId: "YOUR_APP_ID"
  };
  firebase.initializeApp(firebaseConfig);

  const logoutBtn = document.getElementById('logoutBtn');
  const loginLink = document.getElementById('loginLink');
  const registerLink = document.getElementById('registerLink');
  const profileLink = document.getElementById('profileLink');

  firebase.auth().onAuthStateChanged(user => {
    if (user) {
      profileLink.style.display = 'block';
      logoutBtn.style.display = 'block';
      loginLink.style.display = 'none';
      registerLink.style.display = 'none';
    } else {
      profileLink.style.display = 'none';
      logoutBtn.style.display = 'none';
      loginLink.style.display = 'block';
      registerLink.style.display = 'block';
    }
  });

  logoutBtn.onclick = e => {
    e.preventDefault();
    firebase.auth().signOut().then(() => {
      alert('تم تسجيل الخروج بنجاح');
      window.location.href = 'login.html';
    }).catch(err => {
      alert('حدث خطأ: ' + err.message);
    });
  };
}
</script>
</body>
</html>

