<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>إنشاء حساب - مشاعل الأمة</title>
  <link href="https://fonts.googleapis.com/css2?family=Noto+Kufi+Arabic:wght@400;500;700&display=swap" rel="stylesheet">
  <style>
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
      font-family: 'Noto Kufi Arabic', sans-serif;
    }

    body {
      background: #000;
      color: #fff;
      display: flex;
      justify-content: center;
      align-items: center;
      min-height: 100vh;
      overflow-x: hidden;
    }

    .register-container {
      background: #1a1a25;
      padding: 20px;
      border-radius: 16px;
      width: 90%;
      max-width: 420px;
      box-shadow: 0 8px 24px rgba(0,0,0,0.5);
    }

    h1 {
      color: #fff;
      margin-bottom: 16px;
      font-size: 24px;
      text-align: center;
      text-shadow: 0 0 10px rgba(0, 255, 128, 0.25);
    }

    .form-group {
      margin-bottom: 12px;
      position: relative;
    }

    label {
      display: block;
      margin-bottom: 4px;
      font-weight: 500;
      text-align: right;
      color: #aaa;
      font-size: 14px;
      position: absolute;
      top: 10px;
      right: 14px;
      pointer-events: none;
      z-index: 2;
      transition: all 0.2s;
    }

    input, select {
      width: 100%;
      padding: 10px 14px;
      background: #252535;
      border: 1px solid #2e2e3d;
      border-radius: 8px;
      color: white;
      outline: none;
      font-size: 16px;
      padding-right: 56px;
    }

    input:focus, select:focus {
      border-color: #00ff80;
      box-shadow: 0 0 12px rgba(0,255,128,0.3);
    }

    input:not(:placeholder-shown) + label,
    input:focus + label,
    select:not(:placeholder-shown) + label,
    select:focus + label {
      top: -10px;
      right: 14px;
      font-size: 12px;
      color: #00ff80;
      background: #1a1a25;
      padding: 0 5px;
      border-radius: 4px;
    }

    .input-with-icon {
      position: relative;
      display: flex;
      align-items: center;
    }

    .input-with-icon .icon {
      position: absolute;
      left: 14px;
      color: #00ff80;
      pointer-events: none;
      z-index: 1;
    }

    .input-with-icon input {
      padding-left: 44px;
    }

    .password-field {
      position: relative;
    }

    .password-field input {
      padding-right: 44px;
      padding-bottom: 28px;
    }

    .toggle-password {
      position: absolute;
      right: 14px;
      bottom: 6px;
      cursor: pointer;
      color: #aaa;
      font-size: 16px;
      z-index: 2;
    }

    .password-input {
      background: #e0e0e0 !important;
      color: #000;
    }

    button#registerBtn {
      width: 100%;
      padding: 10px;
      background: #252535;
      color: #fff;
      font-weight: 500;
      border: 1px solid #2e2e3d;
      border-radius: 8px;
      cursor: pointer;
      margin-top: 6px;
      font-size: 16px;
      transition: all 0.3s ease;
    }

    button#registerBtn:hover {
      border-color: #00ff80;
      box-shadow: 0 0 12px rgba(0,255,128,0.3);
      transform: translateY(-2px);
    }

    .login-link {
      text-align: center;
      margin-top: 12px;
      font-size: 14px;
    }

    .login-link a {
      color: #00ff80;
      text-decoration: none;
      transition: opacity 0.3s;
    }

    .login-link a:hover {
      opacity: 0.8;
      text-decoration: underline;
    }

    #qrResult {
      margin-top: 24px;
      padding-top: 24px;
      border-top: 1px solid #2a2a35;
      display: none;
    }

    #qrImage {
      width: 240px;
      height: 240px;
      margin: 0 auto 16px;
      border-radius: 12px;
      box-shadow: 0 4px 12px rgba(0,0,0,0.4);
    }

    #copyBtn {
      width: 100%;
      padding: 10px;
      background: #252535;
      color: #00ff80;
      border: 1px solid #2e2e3d;
      border-radius: 8px;
      cursor: pointer;
      font-size: 15px;
      margin-top: 8px;
    }

    #printBtn {
      width: 100%;
      padding: 10px;
      background: #252535;
      color: #ffcc00;
      border: 1px solid #2e2e3d;
      border-radius: 8px;
      cursor: pointer;
      font-size: 15px;
      margin-top: 8px;
    }

    #shareBtn {
      width: 100%;
      padding: 10px;
      background: #252535;
      color: #00ff80;
      border: 1px solid #00ff80;
      border-radius: 8px;
      cursor: pointer;
      font-size: 15px;
      margin-top: 8px;
      display: none;
    }

    .info-item {
      display: flex;
      justify-content: space-between;
      padding: 10px 0;
      border-bottom: 1px solid #2a2a35;
    }

    .info-label {
      color: #aaa;
      font-weight: 500;
      font-size: 15px;
    }

    .info-value {
      color: #fff;
      font-weight: bold;
      font-size: 15px;
      text-align: left;
    }
  </style>
</head>
<body>
  <div class="register-container">
    <h1>إنشاء حساب جديد</h1>
    <form id="registerForm">
      <div class="form-group">
        <div class="input-with-icon">
          <span class="icon">👤</span>
          <input type="text" id="fullName" required placeholder=" " />
          <label for="fullName">الاسم الكامل</label>
        </div>
      </div>
      <div class="form-group">
        <div class="input-with-icon">
          <span class="icon">✉️</span>
          <input type="email" id="email" required placeholder=" " />
          <label for="email">البريد الإلكتروني</label>
        </div>
      </div>
      <div class="form-group">
        <div class="input-with-icon">
          <span class="icon">🎓</span>
          <select id="level" required style="width: 100%; padding: 10px; background: #252535; border: 1px solid #2e2e3d; border-radius: 8px; color: white;">
            <option value="" disabled selected>اختر المستوى الدراسي</option>
            <!-- الابتدائي -->
            <option value="السنة الأولى ابتدائي">السنة الأولى ابتدائي</option>
            <option value="السنة الثانية ابتدائي">السنة الثانية ابتدائي</option>
            <option value="السنة الثالثة ابتدائي">السنة الثالثة ابتدائي</option>
            <option value="السنة الرابعة ابتدائي">السنة الرابعة ابتدائي</option>
            <option value="السنة الخامسة ابتدائي">السنة الخامسة ابتدائي</option>
            <!-- المتوسط -->
            <option value="الأولى متوسط">الأولى متوسط</option>
            <option value="الثانية متوسط">الثانية متوسط</option>
            <option value="الثالثة متوسط">الثالثة متوسط</option>
            <option value="الرابعة متوسط">الرابعة متوسط</option>
            <!-- الثانوي -->
            <option value="الأولى ثانوي">الأولى ثانوي</option>
            <option value="الثانية ثانوي">الثانية ثانوي</option>
            <option value="الثالثة ثانوي">الثالثة ثانوي</option>
            <!-- خيارات إضافية -->
            <option value="تحضيري">تحضيري</option>
            <option value="تعليم قبلي">تعليم قبلي</option>
            <option value="آخر">آخر</option>
          </select>
          <label for="level">المستوى الدراسي</label>
        </div>
      </div>
<!-- خانة الولاية -->
<div class="form-group">
  <div class="input-with-icon">
    <span class="icon">📍</span>
    <select id="province" required style="width: 100%; padding: 10px; background: #252535; border: 1px solid #2e2e3d; border-radius: 8px; color: white;">
      <option value="" disabled selected>اختر الولاية</option>
    </select>
    <label for="province">الولاية</label>
  </div>
</div>

<!-- خانة البلدية -->
<div class="form-group">
  <div class="input-with-icon">
    <span class="icon">🏙️</span>
    <select id="city" required style="width: 100%; padding: 10px; background: #252535; border: 1px solid #2e2e3d; border-radius: 8px; color: white;">
      <option value="" disabled selected>اختر الولاية أولاً</option>
    </select>
    <label for="city">البلدية</label>
  </div>
</div>
      <div class="form-group">
        <select id="gender" required style="width: 100%; padding: 10px; background: #252535; border: 1px solid #2e2e3d; border-radius: 8px; color: white;">
          <option value="" disabled selected>اختر...</option>
          <option value="ذكر">ذكر</option>
          <option value="أنثى">أنثى</option>
        </select>
        <label for="gender">الجنس</label>
        <span class="icon" style="position: absolute; left: 14px; top: 50%; transform: translateY(-50%); color: #00ff80; pointer-events: none;">🚻</span>
      </div>
      <div class="form-group password-field">
        <div class="input-with-icon">
          <span class="icon">🔒</span>
          <input type="password" id="password" class="password-input" required minlength="6" placeholder=" " />
          <label for="password">كلمة المرور</label>
          <span class="toggle-password" onclick="togglePassword('password')">👁️</span>
        </div>
      </div>
      <div class="form-group password-field">
        <div class="input-with-icon">
          <span class="icon">🔒</span>
          <input type="password" id="confirmPassword" required minlength="6" placeholder=" " />
          <label for="confirmPassword">تأكيد كلمة المرور</label>
          <span class="toggle-password" onclick="togglePassword('confirmPassword')">👁️</span>
        </div>
      </div>
      <button type="submit" id="registerBtn">تسجيل الحساب</button>
    </form>
    <div class="login-link">
      لديك حساب؟ <a href="profile.html">اذهب إلى ملفك الشخصي</a>
    </div>

    <!-- منطقة عرض QR -->
    <div id="qrResult">
      <h3 style="color:#00ff80; margin-bottom:12px; text-align:center;">✅ تم إنشاء حسابك!</h3>
      <p style="color:#ccc; margin-bottom:16px; text-align:center;">شارك هذا الرمز مع أستاذك لتقييمك:</p>
      <img id="qrImage" src="" alt="رمز QR" />

      <!-- معلومات الطالب -->
      <div class="info-item">
        <span class="info-label">الاسم الكامل:</span>
        <span class="info-value" id="fullNameDisplay"></span>
      </div>
      <div class="info-item">
        <span class="info-label">البريد الإلكتروني:</span>
        <span class="info-value" id="emailDisplay"></span>
      </div>
      <div class="info-item">
        <span class="info-label">المستوى الدراسي:</span>
        <span class="info-value" id="levelDisplay"></span>
      </div>
      <div class="info-item">
        <span class="info-label">اسم المؤسسة:</span>
        <span class="info-value" id="institutionDisplay"></span>
      </div>
      <div class="info-item">
        <span class="info-label">الولاية:</span>
        <span class="info-value" id="provinceDisplay"></span>
      </div>
      <div class="info-item">
        <span class="info-label">البلدية:</span>
        <span class="info-value" id="cityDisplay"></span>
      </div>
      <div class="info-item">
        <span class="info-label">الجنس:</span>
        <span class="info-value" id="genderDisplay"></span>
      </div>

      <button id="copyBtn" onclick="copyQRLink()">نسخ الرابط</button>
      <button id="printBtn" onclick="printQRCard()">طباعة بطاقة النجم</button>
      <button id="shareBtn" onclick="shareQR()">مشاركة</button>
    </div>
  </div>

  <script>
    function togglePassword(fieldId) {
      const field = document.getElementById(fieldId);
      if (field.type === "password") {
        field.type = "text";
      } else {
        field.type = "password";
      }
    }

    document.getElementById('registerForm').addEventListener('submit', function (e) {
      e.preventDefault();

// ✅ التحقق من وجود حساب سابق
const existingUser = localStorage.getItem('user');
if (existingUser) {
  alert('لديك حساب بالفعل! يُرجى الانتقال إلى ملفك الشخصي.');
  window.location.href = 'profile.html';
  return;
}

// ✅ جمع البيانات
const fullName = document.getElementById('fullName').value.trim();
const email = document.getElementById('email').value.trim();
const level = document.getElementById('level').value;
const institution = "ابن تيمية"; // ثابت
const province = "الجزائر"; // ثابت
const city = "براقي"; // ثابت
const gender = document.getElementById('gender').value;
const password = document.getElementById('password').value;
const confirmPassword = document.getElementById('confirmPassword').value;

// ✅ التحقق الأولي
if (!fullName || !email || !level || !gender) {
  alert('يرجى ملء جميع الحقول المطلوبة.');
  return;
}
if (password !== confirmPassword) {
  alert('كلمتا المرور غير متطابقتين!');
  return;
}

// ✅ التحقق من البريد الإلكتروني
const emailRegex = /^[^\s@]+@[^\s@]+\.[^\s@]+$/;
if (!emailRegex.test(email)) {
  alert('يرجى إدخال بريد إلكتروني صحيح.');
  return;
}

// ✅ إعداد الرابط الصحيح لـ Google Forms
const baseUrl = "https://docs.google.com/forms/d/e/1FAIpQLSdfBDs6Ta8vt3AAM7aKGCaUymXWRNhW-9GFTmbhjnBTuuLvCg/viewform";
const params = new URLSearchParams({
  'entry.500102530': encodeURIComponent(fullName),         // الاسم الكامل
  'entry.1295909734': encodeURIComponent("سعيد"),        // اسم الأستاذ
  'entry.1782792963': encodeURIComponent(level),           // المستوى الدراسي
  'entry.7598977': encodeURIComponent("ابن تيمية"),       // اسم المؤسسة
  'entry.1504285967': encodeURIComponent("براقي"),        // البلدية
  'entry.141302358': encodeURIComponent("الجزائر"),       // الولاية
  'entry.1987444241': encodeURIComponent(gender)           // الجنس
});

const fullUrl = `${baseUrl}?${params.toString()}`;

// ✅ حفظ الحساب
const userData = { fullName, email, level, institution, province, city, gender, password, formUrl: fullUrl };
localStorage.setItem('user', JSON.stringify(userData));

// ✅ توليد QR
const qrUrl = `https://api.qrserver.com/v1/create-qr-code/?size=400x400&data=${encodeURIComponent(fullUrl)}&qzone=1&margin=0`;
document.getElementById('qrImage').src = qrUrl;
document.getElementById('qrResult').style.display = 'block';
document.getElementById('copyBtn').setAttribute('data-url', fullUrl);

// ✅ عرض البيانات
document.getElementById('fullNameDisplay').textContent = fullName;
document.getElementById('emailDisplay').textContent = email;
document.getElementById('levelDisplay').textContent = level;
document.getElementById('institutionDisplay').textContent = institution;
document.getElementById('provinceDisplay').textContent = province;
document.getElementById('cityDisplay').textContent = city;
document.getElementById('genderDisplay').textContent = gender === 'ذكر' ? 'ذكر' : 'أنثى';

// ✅ إخفاء النموذج
document.getElementById('registerForm').style.display = 'none';
document.querySelector('.login-link').style.display = 'none';

if (navigator.share) {
  document.getElementById('shareBtn').style.display = 'block';
}
    });

    function copyQRLink() {
      const url = document.getElementById('copyBtn').getAttribute('data-url');
      navigator.clipboard.writeText(url).then(() => {
        alert('تم نسخ رابط التقييم! أرسله لأستاذك.');
      });
    }

    function printQRCard() {
      const fullName = document.getElementById('fullNameDisplay').textContent || 'طالب';
      const qrImageSrc = document.getElementById('qrImage').src;
      if (!qrImageSrc) return;

      const printWindow = window.open('', '_blank');
      printWindow.document.write(`
        <html>
        <head><title>بطاقة نجم - مشاعل الأمة</title></head>
        <body style="font-family:'Noto Kufi Arabic',sans-serif;text-align:center;padding:20px;background:#000;color:#fff;">
          <h2 style="color:#ffcc00;">🌟 مشاعل الأمة – سفراء القيم</h2>
          <h3 style="color:#fff;margin:20px 0;">الطالب: ${fullName}</h3>
          <img src="${qrImageSrc}" style="width:240px;height:240px;margin:20px 0;" />
          <p style="color:#aaa;font-size:14px;">امسح الرمز لتقييم الطالب</p>
        </body>
        </html>
      `);
      printWindow.document.close();
      printWindow.print();
    }

    function shareQR() {
      const url = document.getElementById('copyBtn').getAttribute('data-url');
      if (navigator.share && url) {
        navigator.share({
          title: 'تقييم نجم - مشاعل الأمة',
          text: 'من فضلك قيّم طالبي في مشروع "مشاعل الأمة"',
          url: url
        });
      }
    }
// ✅ قائمة رسمية لـ 58 ولاية جزائرية مع 1541 بلدية — كما وردت في ملفك
const algeriaData = {
  "أدرار": ["أدرار", "تامست", "شروين", "رقان", "إن زغمير", "تيت", "قصر قدور", "تسابيت", "تيميمون", "أولاد السعيد", "زاوية كونتة", "أولف", "تيمقتن", "تامنطيت", "فنوغيل", "تنركوك", "دلدول", "سالي", "أقبلي", "المطارفة", "أولاد أحمد تيمي", "بودة", "أوقروت", "طالمين", "برج باجي مختار", "السبع", "أولاد عيسى", "تيمياوين"],
  "الشلف": ["الشلف", "تنس", "بنايرية", "الكريمية", "تاجنة", "تاوقريت", "بني حواء", "صبحة", "حرشون", "أولاد فارس", "سيدي عكاشة", "بوقادير", "بني راشد", "تلعصة", "الهرنفة", "وادي قوسين", "الظهر", "أولاد عباس", "السنجاس", "الزبوجة", "وادي سلي", "أبو الحسين", "المرسى", "الشطية", "سيدي عبد الرحمن", "مصدق", "الحجاج", "الأبيض مجاجة", "وادي الفضة", "أولاد بن عبد القادر", "بوزغاية", "عين مران", "أم الدروع", "بريرة", "بني بوعتاب"],
  "الأغواط": ["الأغواط", "قصر الحيران", "بن ناصر بن شهرة", "سيدي مخلوف", "حاسي الدلاعة", "حاسي الرمل", "عين ماضي", "تاجموت", "الخنق", "قلتة سيدي سعد", "عين سيدي علي", "البيضاء", "بريدة", "الغيشة", "الحاج المشري", "سبقاق", "تاويالة", "تاجرونة", "أفلو", "العسافية", "وادي مرة", "وادي مزي", "الحويطة", "سيدي بوزيد"],
  "أم البواقي": ["أم البواقي", "عين البيضاء", "عين مليلة", "بحير شرقي", "العامرية", "سيقوس", "البلالة", "عين بابوش", "بريش", "أولاد حملة", "الضلعة", "عين كرشة", "هنشير تومغني", "الجازية", "عين الديس", "فكرينة", "سوق نعمان", "الزرق", "الفجوج بوغرارة سعودي", "أولاد زواي", "بئر الشهداء", "قصر صباحي", "وادي نيني", "مسكيانة", "عين فكرون", "الراحية", "عين الزيتون", "أولاد قاسم", "الحرميلية"],
  "باتنة": ["باتنة", "غسيرة", "معافة", "مروانة", "سريانة", "منعة", "المعذر", "تازولت", "نقاوس", "القيقبة", "إينوغيسن", "عيون العصافير", "جرمة", "بيطام", "عزيل عبد القادر", "آريس", "كيمل", "تيلاطو", "عين جاسر", "أولاد سلام", "تيغرغار", "عين ياقوت", "فسديس", "سفيان", "الرحبات", "تيغانمين", "لمسان", "قصر بلزمة", "سقانة", "إشمول", "فم الطوب", "بني فضالة الحقانية", "وادي الماء", "تالخمت", "بوزينة", "الشمرة", "وادي الشعبة", "تاكسلانت", "القصبات", "أولاد عوف", "بومقر", "بريكة", "الجزار", "تكوت", "عين التوتة", "حيدوسة", "ثنية العابد", "وادي الطاقة", "أولاد فاضل", "تيمقاد", "رأس العيون", "شير", "أولاد سي سليمان", "زانة البيضاء", "أمدوكال", "أولاد عمار", "الحاسي", "لازرو", "بومية", "بولهيلات", "لارباع"],
  "بجاية": ["آدكار", "تاوريرت آغيل", "بني كسيلة", "أقبو", "شلاطة", "آغرام", "تمقرة", "أميزور", "بني جليل", "سمعون", "فرعون", "أوقاس", "تيزي أنبربار", "برباشة", "كنديرة", "بجاية", "وادي غير", "بني معوش", "شميني", "طيبان", "سوق أوفلة", "أكفادو", "درقينة", "آيت سماعيل", "تاسكريوت", "القصر", "فناية الماثن", "توجة", "إغيل علي", "آيت أرزين", "خراطة", "ذراع القايد", "أوزلاقن", "صدوق", "أمالو", "مسيسنة", "بوحمزة", "سيدي عيش", "لفلاي", "تينبذار", "تيفرة", "سيدي عياد", "سوق الاثنين", "ملبو", "تامريجت", "تازمالت", "بني مليكش", "بوجليل", "تيشي", "بوخليفة", "تالة حمزة", "تيمزريت"],
  "بسكرة": ["بسكرة", "الحاجب", "مشونش", "لوطاية", "ليشانة", "طولقة", "أوماش", "ليوة", "فوغالة", "جمورة", "عين الناقة", "زريبة الوادي", "سيدي عقبة", "شتمة", "القنطرة", "الغروس", "المخادمة", "مليلي", "سيدي خليل", "الفيض", "بنطيوس", "برانيس", "برج بن عزوز", "بوشقرون", "عين زعطوط", "خنقة سيدي ناجي", "المزيرعة", "أورلال", "الحوش", "تيمسنين", "الشعيبة", "بربوش", "العالية"],
  "بشار": ["بشار", "القنادسة", "المريجة", "بني ونيف", "لحمر", "موغل", "بوكايس", "تاغيت", "العبادلة", "عرق فراج", "مشرع هواري بومدين", "بني عباس", "تامترت", "إقلي", "الواتة", "كرزاز", "بني يخلف", "تيمودي", "أولاد خضير", "قصابي", "تبلبالة"],
  "البليدة": ["البليدة", "شبلي", "بوينان", "وادي العلايق", "أولاد يعيش", "الشريعة", "العفرون", "الشفة", "حمام ملوان", "بن خليل", "الصومعة", "موزاية", "صوحان", "مفتاح", "أولاد السلامة", "بوفاريك", "الأربعاء", "واد جر", "بني تامو", "بوعرفة", "بني مراد", "بوقرة", "قرواو", "عين الرمانة", "الجبابرة"],
  "البويرة": ["البويرة", "الهاشمية", "عين بسام", "بئر غبالو", "بشلول", "برج أوخريص", "سوق الخميس", "سور الغزلان", "الأخضرية", "قادرية", "مشدا الله", "حيزر", "الروراوة", "تاقديت", "مسدور", "الأصنام", "أهل القصر", "أولاد راشد", "العجيبية", "الخبوزية", "عين العلوي", "عين الحجر", "وادي البردي", "آيت لعزيز", "عين الترك", "تاغزوت", "قرومة", "بودربالة", "الزبربر", "بوكرام", "معالة", "الجباحية", "عمر", "قادرية", "مشدا الله", "الصهاريج", "الشرفة", "الحانيف", "أغبالو", "آث منصور", "المقراني", "سور الغزلان", "ريدان", "المعمورة", "ديرة"],
  "تمنراست": ["تمنراست", "أبالسة", "إدلس", "تازروك", "عين قزام", "تين زاوتين", "إن غار", "عين أمقل", "فقارة الزوى", "أوتول"],
  "تبسة": ["تبسة", "بئر العاتر", "الشريعة", "سطح قنطيس", "العوينات", "الحويجبات", "صفصاف الوسرة", "الحمامات", "نقرين", "بئر مقدم", "الكويف", "مرسط", "العقلة", "بئر الذهب", "العقلة المالحة", "قريقر", "بكارية", "بوخضرة", "الونزة", "الماء الأبيض", "أم علي", "ثليجان", "عين الزرقاء", "المريج", "بولحاف الدير", "بجن", "المزرعة", "فركان"],
  "تلمسان": ["تلمسان", "المنصورة", "تيرني بني هديل", "عين غرابة", "بني مستار", "شتوان", "عين فزة", "عمير", "أولاد ميمون", "الواد الأخضر", "بني صميل", "عين تالوت", "عين نحالة", "بن سكران", "سيدي العبدلي", "الرمشي", "بني ورسوس", "عين يوسف", "السبعة شيوخ", "الفحول", "الحناية", "زناتة", "أولاد رياح", "الغزوات", "السواحلية", "تيانت", "دار يغمراسن", "ندرومة", "جبالة", "فلاوسن", "عين فتاح", "عين الكبيرة", "مغنية", "حمام بوغرارة", "بني بوسعيد", "سيدي مجاهد", "صبرة", "بوحلو", "سبدو", "القور", "العريشة", "سيدي الجيلالي", "البويهي", "بني سنوس", "العزايل", "بني بهدل", "باب العسة", "السواني", "سوق الثلاثاء", "مرسى بن مهيدي", "مسيردة الفواقة", "هنين", "بني خلاد"],
  "تيارت": ["بوقرة (تيارت)", "تاخمرت", "تاقدمت", "توسنينة", "تيارت", "تيدة", "جبيلة الرصفاء", "جيلالي بن عمار", "حمادية", "دحموني", "الرحوية", "الرشايقة", "زمالة الأمير عبد القادر", "السبت (تيارت)", "سبعين", "سرغين", "السوقر", "سي عبد الغني", "سيدي بختي", "سيدي حسني", "سيدي عبد الرحمان (تيارت)", "سيدي علي ملال", "شحيمة", "عين الحديد", "عين الذهب", "عين بوشقيف", "عين دزاريت", "عين كرمس", "الفايجة", "فرندة", "قرطوفة", "قصر الشلالة", "مادنة", "مدروسة", "مدريسة", "مشرع الصفاء", "مغيلة (الجزائر)", "ملاكو", "مهدية (تيارت)", "الناظورة", "النعيمة (تيارت)", "وادي ليلي"],
  "تيزي وزو": ["تيزي وزو", "واسيف", "أيت بومهدي", "أيت تودرت", "عين الحمام", "أيت يحي", "أقبيل", "أبي يوسف", "عزازقة", "فريحة", "زكري", "إعكوران", "إيفيغاء", "بوغني", "مشطراس", "بونوح", "أسي يوسف", "ذراع الميزان", "فريقات", "عين الزاوية", "أيت يحي موسى", "واقنون", "تيميزارت", "آيت عيسى ميمون", "الأربعاء نايث إيراثن", "أيت قواشة", "إرجن", "أزفون", "أقرو", "أيت شفعة", "أغريب", "ذراع بن خدة", "تادمايت", "سيدي نعمان", "تيرمتين", "تيقزيرت", "إفليسن", "مزرانة", "بوزغن", "إجر", "إيلولة أمالو", "بني زيكي", "بني دوالة", "أيت محمود", "بني عيسي", "بني زمنزر", "واضية", "أقني قغران", "تيزي نثلاثة", "أيت بوعدو", "المعاتقة", "سوق الاثنين", "مقلع", "أيت خليلي", "الصوامع", "بني يني", "يطافن", "إبودرارن", "تيزي راشد", "أيت أومالو", "إيفرحونن", "أمسوحال", "إليلتن", "تيزي غنيف", "مكيرة", "ماكودة", "بوجيمة"],
  "الجزائر": ["الجزائر الوسطى", "سيدي امحمد", "المدنية", "المرادية", "باب الواد", "القصبة", "بولوغين", "واد قريش", "رايس حميدو", "المقارية", "بلوزداد", "حسين داي", "القبة", "بن عكنون", "بني مسوس", "بوزريعة", "الأبيار", "بئر مراد رايس", "بئر خادم", "جسر قسنطينة", "حيدرة", "سحاولة", "باش جراح", "بوروبة", "الحراش", "وادي السمار", "عين طاية", "باب الزوار", "برج البحري", "برج الكيفان", "الدار البيضاء", "المرسى", "المحمدية", "عين البنيان", "الشراقة", "دالي إبراهيم", "أولاد فايت", "الحمامات", "المحالمة", "الرحمانية", "السويدانية", "سطاوالي", "زرالدة", "بابا حسن", "دويرة", "الدرارية", "العاشور", "خرايسية", "بئر توتة", "أولاد شبل", "تسالة المرجة", "براقي", "الكاليتوس", "سيدي موسى", "هراوة", "الرغاية", "الرويبة"],
  "الجلفة": ["الجلفة", "حاسي بحبح", "عين وسارة", "مسعد", "فيض البطمة", "دار الشيوخ", "الإدريسية", "حد الصحاري", "عين معبد", "الشارف", "زكار", "تعظميت", "البيرين", "بنهار", "المليليحة", "بويرة الأحداب", "عين الإبل", "عين فقه", "حاسي فدول", "أم العظام", "حاسي العش", "سيدي لعجال", "أم الشقاق", "سلمانة", "زعفران", "مجبارة", "قرنيني", "سيدي بايزيد", "دلدول", "دويس", "القُديد", "سد رحال", "فرزول", "قطارة", "الخميس", "بن يعقوب"],
  "جيجل": ["جيجل", "أراقن", "العوانة", "زيامة المنصورية", "الطاهير", "الأمير عبد القادر", "الشقفة", "شحنة", "الميلية", "سيدي معروف", "السطارة", "العنصر", "سيدي عبد العزيز", "قاوس", "غبالة", "بوراوي بلهادف", "جيملة", "سلمى بن زيادة", "بوسيف أولاد عسكر", "القنار نوشفى", "أولاد يحيى خدروش", "بودريعة بن ياجيس", "خيري وادي العجول", "تاكسنة", "الجمعة بني حبيبي", "برج الطهر", "أولاد رابح", "وجانة"],
  "سطيف": ["سطيف", "العلمة", "عين أرنات", "عين عباسة", "عين الكبيرة", "عين آزال", "عين لحجر", "عين لقراج", "عين ولمان", "عين الروى", "عين السبت", "آيت نوال", "آيت تيزي", "عموشة", "بابور", "بازر سكرة", "بيضاء برج", "بلاعة", "بني عزيز", "بني شيبانة", "بني فودة", "بني حسين", "بني محلي", "بني ورتيلان", "بئر العرش", "بئر حدادة", "بوعنداس", "بوقاعة", "بوسلام", "بوطالب", "دهامشة", "جميلة", "ذراع قبيلة", "الولجة", "الأوريسية", "قلال", "القلتة الزرقاء", "ڤجال", "قنزات", "رأس الماء", "الحامة", "حمام قرقور", "حربيل", "قصر الأبطال", "معاوية", "ماوكلان", "مزلوق", "واد البارد", "أولاد عدوان", "أولاد صابر", "أولاد تبان", "أم لعجول", "رسفة", "صالح باي", "سرج الغول", "تاشودة", "تالة إيفاسن", "الطاية", "تلة", "تيزي نبشار"],
  "سعيدة": ["سعيدة", "الحساسنة", "سيدي أحمد", "سيدي اعمر", "سيدي بوبكر", "عين الحجر", "عين السخونة", "عين سلطان", "تيرسين", "ذوي ثابت", "مولاي لعربي", "معمورة", "أولاد براهيم", "أولاد خالد", "هونة", "يوب"],
  "سكيكدة": ["سكيكدة", "الحروش", "عزابة", "رمضان جمال", "فلفلة", "القل", "تمالوس", "عين قشرة", "بين الويدان", "جندل", "أولاد أحبابة", "عين شرشار", "عين بوزيان", "عين زويت", "الكركرة", "الزيتونة", "بني زيد", "بني ولبان", "بني بشير", "بوشطاطة", "بوقايد لخضر", "بن عزوز", "زردازة", "الولجة بوالبلوط", "خناق مايون", "قنواع", "أم الطوب", "أمجاز الدشيش", "أولاد عطية", "الشرايع", "بودوخة", "لغدير", "سيدي مزغيش", "المرسى", "الحدائق", "صالح بوالشعور", "السبت", "وادي الزهور"],
  "سيدي بلعباس": ["سيدي بلعباس", "عين البرد", "بلعربي", "سفيزف", "سيدي لحسن", "رأس الماء", "مرحوم", "تلاغ", "مرين", "تندامين", "تسالة", "تغاليمت", "لمطار", "عين الثريد", "حاسي زهانة", "عين قادة", "سيدي خالد", "سيدي إبراهيم", "سيدي علي بن يوب", "سيدي شعيب", "سيدي دحو الزائر", "سيدي علي بوسيدي", "زروالة", "تاودموت", "مقدرة", "حاسي دحو", "مولاي سليسن", "عين أدان", "طابية", "مزاورو", "رجم دموش", "العمارنة", "المسيد", "الضاية", "الحصيبة", "بئر الحمام", "بدر الدين المقراني", "بوخنيفيس", "بوجبهة البرج", "سهالة ثاورة", "شيطوان بليلة", "عين تندامين", "مصطفى بن إبراهيم", "عين قادة", "واد السبع", "واد تاوريرة", "واد سفيون", "ابن باديس", "تلموني", "تفّسور", "سيدي يعقوب", "العمارنة"],
  "عنابة": ["عنابة", "البوني", "برحال", "الحجار", "العلمة", "وادي العنب", "الشرفة", "سرايدي", "عين الباردة", "شطايبي", "سيدي عمار", "تريعات"],
  "قالمة": ["قالمة", "هيليوبوليس", "بوشقوف", "وادي الزناتي", "حمام دباغ", "عين مخلوف", "حمام النبايل", "قلعة بوصبع", "وادي فراغة", "بلخير", "مجاز عمار", "تاملوكة", "عين بن بيضاء", "بوحمدان", "وادي الشحم", "مجاز الصفاء", "بومهرة أحمد", "حمام بلحشاني", "الفجوج", "عين العربي", "برج صباط", "الركنية", "سلاوة عنونة", "عين صندل", "عين رقادة", "نشماية", "هواري بومدين", "لَخزارة", "بوحشانة", "جبالة لخميسي", "بني مزلين", "بوعاطي محمود", "الدهوارة", "راس العقبة"],
  "قسنطينة": ["قسنطينة", "الخروب", "حامة بوزيان", "عين عبيد", "عين سمارة", "أولاد رحمون", "ابن باديس", "ابن زياد", "زيغود يوسف", "ديدوش مراد", "بني حميدان", "مسعود بوجريو"],
  "المدية": ["المدية", "البرواقية", "بني سليمان", "قصر البخاري", "تابلاط", "شلالة العذاورة", "عين بوسيف", "العزيزية", "وزرة", "سي المحجوب", "سغوان", "سيدي نعمان", "السواقي", "العمارية", "وامري", "القلب الكبير", "سيدي زهار", "سيدي الربيع", "سيدي دامد", "سيدي زيان", "الحوضان", "ميهوب", "بوسكن", "حناشة", "بئر بن عابد", "الزبيرية", "دراق", "أم الجليل", "أولاد إبراهيم", "أولاد بو عشرة", "أولاد دايد", "أولاد عنتر", "أولاد معرف", "أولاد هلال", "بن شكاو", "بوشراحيل", "بو عيش", "بو عيشون", "بوغار", "بوغزول", "بعطة", "تافراوت", "تمزقيدة", "تيزي المهدي", "ثلاثة الدوائر", "جواب", "الحمدانية", "خمس جوامع", "ذراع السمار", "الربعية", "سانق", "سدراية", "مغراوة", "المفاتحة", "مجبر", "العوينات", "العيساوية", "عين القصير", "الكاف الأخضر", "وادي حربيل", "عزيز", "الميهوب", "العزّيزية", "وامري"],
  "مستغانم": ["أولاد بوغالم", "أولاد مع الله", "الحسيان", "السوافلية", "بن عبد المالك رمضان", "بوقيراط", "تازقايت", "حاسي مماش", "حجاج", "خضرة", "خير الدين", "ستيدية", "سيدي بلعطار", "سيدي علي", "سيدي لخضر", "سيرات", "الصفصاف", "الصور", "صيادة", "الطواهرية", "عشعاشة", "عين النويصي", "عين بودينار", "عين تادلس", "عين سيدي شريف", "فرناكة", "ماسرة", "مزغران", "منصورة", "نقمارية", "واد الخير", "مستغانم"],
  "المسيلة": ["المسيلة", "مقرة", "برهوم", "بلعايبة", "عين الخضراء", "الدهاهنة", "أولاد دراج", "معاضيد", "صوامع", "أولاد عدي لقبالة", "مطارفة", "حمام ضلعة", "تارمونت", "أولاد منصور", "ونوغة", "عين الحجل", "سيدي هجرس", "سيدي عيسى", "بوطي سايح", "بني يلمان", "شلال", "خطوطي سد الجير", "أولاد ماضي", "المعاريف", "خبانة", "الحومد", "مسيف", "مجدل", "مناعة (أولاد عطية)", "بوسعادة", "هامل", "ولتام", "أولاد سيدي إبراهيم (ديس)", "بن زوه", "سيدي عامر", "تامسة", "بن سرور", "محمد بوضياف (واد شعير)", "زرزور", "أولاد سليمان", "عين الملح", "بئر فضة", "عين فارس", "سيدي امحمد", "عين الريش", "جبل مسعد (عين غورب)", "سليم"],
  "معسكر": ["معسكر", "المحمدية", "سيق", "تغنيف", "زهانة", "غريس", "المامونية", "عين فكان", "عين فراح", "عين فارس", "عين فرس", "العلايمية", "عوف", "البنيان", "بوحنيفية", "بوهني", "الشرفة", "البرج", "القعدة", "الغمري", "الهاشم", "القرط", "المنور", "فراقيق", "فروحة", "غروس", "قرجوم", "القيطنة", "حسين", "خلوية", "ماقضة", "ماوسة", "مطمور", "مقطع دوز", "نسمط", "عكاز", "وادي الأبطال", "وادي تاغية", "رأس عين عميروش", "سجرارة", "السحايلية", "سيدي عبد الجبار", "سيدي عبد المؤمن", "سيدي قادة", "سيدي بوسعيد", "تيزي", "محمد"],
  "ورقلة": ["ورقلة", "الرويسات", "سيدي خويلد", "حاسي مسعود", "حاسي بن عبد الله", "البرمة", "النقوسة", "حوض الحمراء", "المنقر", "عين البيضاء"],
  "وهران": ["وهران", "أرزيو", "السانية", "بئر الجير", "بطيوة", "بن فريحة", "بوتليليس", "بوسفر", "بوفاطيس", "حاسي بن عقبة", "حاسي بونيف", "حاسي مفسوخ", "دوار الملح", "سيدي الشحمي", "سيدي بن يبقى", "قديل", "طفراوي", "العنصر", "عين البية", "عين الترك", "عين الكرمة", "العلايمية", "البرية", "الكرمة", "مرسى الحجاج", "المرسى الكبير", "مسرغين", "وادي تليلات", "سيق"],
  "البيض": ["البيض", "الأبيض سيدي الشيخ", "الرقاصة", "بوقطب", "بوسمغون", "بوعلام", "بريزينة", "الشلالة", "أربوات", "الخيثر", "ستّيتن", "توسمولين", "عين العراك", "المحرة", "الغاسول", "كراكدة", "كاف لحمر", "سيدي سليمان", "سيدي طيفور", "سيدي عمر", "شقيق", "البنود"],
  "إليزي": ["إليزي", "إن أميناس", "برج عمر إدريس", "برج تارات", "دبداب", "أوهانت"],
  "برج بوعريريج": ["برج بوعريريج", "رأس الوادي", "برج الغدير", "المنصورة", "الياشير", "مجانة", "بليمور", "أولاد دحمان", "أولاد أبراهم", "أولاد سيدي إبراهيم", "الحمادية", "العش", "العناصر", "القلة", "القليعة", "الماين", "المهير", "بئر قصد علي", "بن داود", "تسامرت", "تفرق", "تقلعيت", "تكستار", "ثنية النصر", "جعافرة", "حرازة", "حسناوة", "خليل", "الرابطة", "سيدي امبارك", "عين تاغروت", "غيلاسة", "القصور", "غيلاسة برج الغدير", "بلدية عين تسرة", "العلايمية", "تسامرت"],
  "بومرداس": ["بومرداس", "تجلابين", "قورصو", "برج منايل", "جنات", "زموري", "لقاطة", "أولاد هداج", "بودواو", "بودواو البحري", "خروبة بودواو", "قدارة", "أعفير", "بن شود", "دلس", "بني عمران", "الثنية", "سوق الحد", "عمال", "تيمزريت", "سي مصطفى", "شعبة العامر", "يسر", "الأربعطاش", "أولاد موسى", "حمادي", "خميس الخشنة", "أولاد عيسى", "الناصرية", "بغلية", "تاورقة", "سيدي داود"],
  "الطارف": ["الطارف", "القالة", "بوحجار", "بوثلجة", "الذرعان", "بن مهيدي", "بحيرة الطيور", "عين العسل", "عين الكرمة", "عصفور", "شبيطة مختار", "الشط", "الشافية", "الشيحاني", "الزيتونة", "السوارخ", "زريزر", "رمل السوق", "بريحان", "حمام بني صالح", "بوقوس", "واد الزيتون", "العيون", "البسباس"],
  "تيندوف": ["تيندوف", "أم العسل"],
  "تيسمسيلت": ["تيسمسيلت", "ثنية الحد", "لرجام", "خميستي", "سيدي العنتري", "سيدي سليمان", "سيدي بوتشنت", "عماري", "المعاصم", "الأزهرية", "الأربعاء", "اليوسفية", "العيون", "الملعب", "بوقايد", "بني لحسن", "بني شعيب", "برج الأمير عبد القادر", "برج بونعامة", "تملاحت", "أولاد بسام", "سيدي عابد"],
  "الوادي": ["الوادي", "المقرن", "الطريفاوي", "حاسي خليفة", "دوار الماء", "جامعة", "قمار", "الرباح", "الرقيبة", "الطالب العربي", "بن قشة", "تغزوت", "البياضة", "كوينين", "سيدي عون", "سيدي خليل", "سيدي عمران", "أم الطيور", "ورماس", "أميه ونسة", "النخلة", "المرارة", "العقلة", "الدبيلة", "المغير", "الحمراية", "حساني عبد الكريم", "وادي العلندة", "بسطيل", "الطريفاوي"],
  "خنشلة": ["خنشلة", "قايس", "بابار", "ششار", "جلال", "انسيغة", "بوحمامة", "الحامة", "عين الطويلة", "لمصارة", "أولاد رشاش", "الرميلة", "تاوزيانت", "طامزة", "الولاية", "الولاّجة", "خيران", "متوسة", "شلية", "يابوس", "بغاي"],
  "سوق أهراس": ["سوق أهراس", "سدراتة", "تاورة", "مداوروش", "وادي الكبريت", "الحنانشة", "أولاد إدريس", "أولاد مؤمن", "أم العظائم", "الدريعة", "تيفاش", "خميسة", "الزوابي", "الزعرورية", "الراقوبة", "الحدادة", "الخضارة", "عين سلطان", "عين زانة", "المراهنة", "المشروحة", "سافل الويدان", "ترقالت", "سيدي فرج", "بئر بوحوش", "ويلان"],
  "تيبازة": ["تيبازة", "شرشال", "بوهارون", "دواودة", "فوكة", "بوسماعيل", "حجوط", "حجرة النص", "الناظور", "الداموس", "قوراية", "سيدي غيلاس", "مسلمون", "الأرهاط", "مناصر", "مراد", "بني ميلك", "سيدي سميان", "سيدي راشد", "سيدي اعمر", "القليعة", "خميستي", "حطاطبة", "حمر العين", "بورقيقة", "الشعيبة", "عين تقورايت", "أغبال"],
  "ميلة": ["ميلة", "فرجيوة", "التلاغمة", "تاجنانت", "شلغوم العيد", "القرارم قوقة", "سيدي مروان", "وادي العثمانية", "أحمد راشدي", "دراحي بوصلاح", "مينار زارزة", "تسالة لمطاعي", "الرواشد", "رجاص", "زغاية", "وادي النجاء", "وادي سقان", "ترعي باينان", "بوحاتم", "عين الملوك", "عين التين", "عين البيضاء حريش", "عميرة أراس", "الشيقارة", "تبرقنت", "العياضي برباس", "سيدي خليفة", "بن يحيى عبد الرحمان", "أولاد خلوف", "تسدان حدادة", "حمالة", "يحيى بن قشة", "المشيرة"],
  "عين الدفلى": ["عين الدفلى", "مليانة", "خميس مليانة", "بومدفع", "العطاف", "جندل", "بوراشد", "بطحية", "الحسنية", "الحسينية", "الروينة", "العبادية", "الماين", "المخاطرية", "بئر ولد خليفة", "بربوش", "برج الأمير خالد", "بلعاص", "بن علال", "تاشتة زقاغة", "تسيلي", "تيبركانين", "جليدة", "جمعة ولاد الشيخ", "حمام ريغة", "زدين", "سيدي الأخضر", "طارق بن زياد", "العامرة", "عريب", "عين بنيان", "عين بويحيى", "عين تركي", "عين سلطان", "عين لشياخ", "واد الشرفاء", "وادي الجمعة"],
  "النعامة": ["النعامة", "المشرية", "عين الصفراء", "عين بن خليل", "عسلة", "مغرار", "تيوت", "صفيصيفة", "جنين بورزق", "القصدير (مكمن بن عمار)", "مكمن بن عمار", ""],
  "عين تموشنت": ["آغلال", "الأمير عبد القادر", "الحساسنة", "العامرية", "المالح", "امسعيد", "أولاد الكيحل", "أولاد بوجمعة", "بني صاف", "بوزجار", "تارقة", "تامزوغة", "حاسي الغلة", "حمام بوحجر", "رشقون", "سيدي أورياش", "سيدي الصافي", "سيدي بن عدة", "سيدي بومدين", "شعبة اللحم", "شنتوف", "عقب الليل", "عين الأربعاء", "عين الطلبة", "عين الكيحل", "عين تموشنت", "وادي الصباح", "وادي برقش", "ولهاصة"],
  "غرداية": ["غرداية", "العطف", "بنورة", "بريان", "زلفانة", "سبسب", "حاسي الفحل", "حاسي القارة", "ضاية بن ضحوة", "القرارة", "متليلي"],
  "غليزان": ["غليزان", "بن داود", "يلل", "سيدي سعادة", "عين الرحمة", "القلعة", "المطمر", "بلعسل", "سيدي خطاب", "سيدي امحمد بن عودة", "منداس", "واد السلام", "سيدي لزرق", "الحمادنة", "واد الجمعة", "جديوية", "حمري", "أولاد سيدي الميهوب", "وادي ارهيو", "المرجة", "واريزان", "لحلاف", "مازونة", "القطار", "سيدي امحمد بن علي", "بني زنطيس", "مديونة", "عمي موسى", "الولجة", "أولاد يعيش", "الحاسي", "عين طارق", "حد الشكالة", "الرمكة", "سوق الحد", "زمورة", "دار بن عبد الله", "بني درقن"],
  "تيميمون": ["تيميمون", "أوقروت", "أولاد السعيد", "المطارفة", "تينركوك", "دلدول", "شروين", "طالمين", "قصر قدور"],
  "برج باجي مختار": ["برج باجي مختار", "تيمياوين"],
  "أولاد جلال": ["أولاد جلال", "سيدي خالد", "رأس الميعاد", "البسباس", "الشعيبة", "الدوسن"],
  "بني عباس": ["بني عباس", "تامترت", "كرزاز", "تيمودي", "بني يخلف", "الوطاء", "تبلبالة", "أولاد خضير", "قصابي", "إيقلي"],
  "عين صالح": ["عين صالح", "فقارة الزوى", "إن غار"],
  "عين قزام": ["عين قزام", "تين زاوتين"],
  "تقرت": ["تقرت", "بن ناصر", "بلدة عمر", "العالية", "الحجيرة", "مقارين", "المنقر", "النزلة", "سيدي سليمان", "الطيبات", "تماسين", "تبسبست", "الزاوية العابدية"],
  "جانت": ["جانت", "برج الحواس"],
  "المغير": ["جامعة", "المغير", "مرارة", "أم الطيور", "سيدي عمران", "سيدي خليل", "اسطيل", "تندلة"],
  "المنيعة": ["المنيعة", "حاسي القارة", "المنصورة", "حاسي لفحل"]
};

// ✅ تحميل القوائم فوراً عند تحميل الصفحة
(function () {
  const provinceSelect = document.getElementById('province');
  const citySelect = document.getElementById('city');

  if (!provinceSelect || !citySelect) return;

  // ملء قائمة الولايات
  for (const province in algeriaData) {
    const option = document.createElement('option');
    option.value = province;
    option.textContent = province;
    provinceSelect.appendChild(option);
  }

  // عند تغيير الولاية
  provinceSelect.addEventListener('change', function () {
    const selectedProvince = this.value;
    citySelect.innerHTML = '<option value="" disabled selected>اختر البلدية</option>';
    citySelect.disabled = !selectedProvince;

    if (selectedProvince && algeriaData[selectedProvince]) {
      algeriaData[selectedProvince].forEach(municipality => {
        // تجنب القيم الفارغة (مثل آخر عنصر في النعامة)
        if (municipality.trim() !== "") {
          const option = document.createElement('option');
          option.value = municipality;
          option.textContent = municipality;
          citySelect.appendChild(option);
        }
      });
    }
  });
})();
  </script>
</body>
</html>







